<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>vscode插件开发笔记 | NetsSsSs Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="总结：
开发vscode插件其实就是在写node，只是在需要与编辑器交互的时候，调用一下vscode提供的事件回调


常用回调事件：
事件解释vscode.commands.registerCommand接收到命令时vscode.commands.registerTextEditorCommand在编辑器界面接收到命令时vscode.workspace.onDidChangeTextDocum">
<meta property="og:type" content="article">
<meta property="og:title" content="vscode插件开发笔记">
<meta property="og:url" content="http://yoursite.com/2019/08/20/vscode插件开发笔记/index.html">
<meta property="og:site_name" content="NetsSsSs Blog">
<meta property="og:description" content="总结：
开发vscode插件其实就是在写node，只是在需要与编辑器交互的时候，调用一下vscode提供的事件回调


常用回调事件：
事件解释vscode.commands.registerCommand接收到命令时vscode.commands.registerTextEditorCommand在编辑器界面接收到命令时vscode.workspace.onDidChangeTextDocum">
<meta property="og:updated_time" content="2019-08-22T06:13:54.399Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="vscode插件开发笔记">
<meta name="twitter:description" content="总结：
开发vscode插件其实就是在写node，只是在需要与编辑器交互的时候，调用一下vscode提供的事件回调


常用回调事件：
事件解释vscode.commands.registerCommand接收到命令时vscode.commands.registerTextEditorCommand在编辑器界面接收到命令时vscode.workspace.onDidChangeTextDocum">
  
    <link rel="alternate" href="/atom.xml" title="NetsSsSs Blog" type="application/atom+xml">
  
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0.css">
  <link rel="stylesheet" href="/lib/fancybox/dist/jquery.fancybox.min.css">
  <link rel="stylesheet" href="/css/main.css">
  <script src="/lib/jquery/dist/jquery.min.js"></script>
  
  
  
  
</head>
<body>
  <div id="wrapper">
    <header id="header" class="clearfix">
	<a id="logo" href="/" title="NetsSsSs Blog">NetsSsSs Blog</a>
	
		<p class="description">不应怠惰</p>
	
	<nav id="nav-menu" class="clearfix">
		<form id="search" method="post" action="./" role="search">
			<input id="search-input" type="text" name="s" class="inputbox" value="Search" onfocus="if (value =='Search'){value =''}" onblur="if (value ==''){value='Search'}">
		</form>
		<ul>
      
				
        <li><a class="main-nav-link" href="/">Home</a></li>
      
				
        <li><a class="main-nav-link" href="/archives">Archives</a></li>
      
		</ul>
	</nav>
</header>
    <section id="main" class="clearfix"><article class="post-detail">
  <h1 class="post-title"><a href="/">vscode插件开发笔记</a></h1>
  <ul class="post-meta">
  <li><i class="fa fa-user"></i> Author NetsSsSs</li>
  <li><i class="fa fa-calendar"></i> Date Aug 20</li>
  <li><i class="fa fa-folder"></i> Categories
  
    no_categories
  
  </li>
</ul>
  <div class="post-content">
      
      <ol>
<li>总结：<blockquote>
<p>开发vscode插件其实就是在写node，只是在需要与编辑器交互的时候，调用一下vscode提供的事件回调</p>
</blockquote>
</li>
<li>常用回调事件：<blockquote>
<table><thead><tr><th>事件</th><th>解释</th></tr></thead><tbody><tr><td>vscode.commands.registerCommand</td><td>接收到命令时</td></tr><tr><td>vscode.commands.registerTextEditorCommand</td><td>在编辑器界面接收到命令时</td></tr><tr><td>vscode.workspace.onDidChangeTextDocument</td><td>工作区文档改变时</td></tr><tr><td>vscode.workspace.onDidSaveTextDocument</td><td>工作区文档保存时</td></tr></tbody></table></blockquote>
</li>
<li><p>写法：</p>
<ol>
<li>官方推荐使用<code>yo code</code>自动构建项目框架，构建完成后再debug页面点击开始按钮即可调试示例插件</li>
<li><p>如果仅仅想做简单的配置，其实只需要创建三个文件即可，分别是合并了manifest.json的package.json，处理事件的extension.js和用于调试的.vscode/launch.json</p>
<ol>
<li>package.json中应该含有：<blockquote>
<table><thead><tr><th>key</th><th>value</th></tr></thead><tbody><tr><td>name</td><td>插件的名字</td></tr><tr><td>engines</td><td>插件支持的最低vscode版本</td></tr><tr><td>activationEvents</td><td>何时启动插件(可以写”*”)</td></tr><tr><td>contributes</td><td>注册指令</td></tr></tbody></table></blockquote>
</li>
<li>extension.js中应该暴露两个出口，分别是activate和deactivate，代表插件开始运行和插件释放，所有注册类指令都需要push在activate中的context.subscriptions中</li>
<li><p>.vscode/launch.json中应该写入：</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    &quot;version&quot;: &quot;0.2.0&quot;,</div><div class="line">    &quot;configurations&quot;: [</div><div class="line">        &#123;</div><div class="line">            &quot;name&quot;: &quot;启动扩展&quot;,</div><div class="line">            &quot;type&quot;: &quot;extensionHost&quot;,</div><div class="line">            &quot;request&quot;: &quot;launch&quot;,</div><div class="line">            &quot;runtimeExecutable&quot;: &quot;$&#123;execPath&#125;&quot;,</div><div class="line">            &quot;args&quot;: [</div><div class="line">                &quot;--extensionDevelopmentPath=$&#123;workspaceFolder&#125;&quot;</div><div class="line">            ]</div><div class="line">        &#125;</div><div class="line">    ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ol>
</li>
<li><p>其他</p>
<ol>
<li>打包时应该使用<code>npm i vsce -g</code>安装vsce打包工具，之后在根目录运行<code>vsce package</code></li>
<li>vscode的插件中Position声明方式应该是<code>new vscode.Position()</code>同理Range的声明方式是<code>new vscode.Range()</code></li>
<li>contributes.commands中注册的指令可以是任何字符串名称</li>
<li><p>希望在package.json中配置icon时，应该设置另一个属性：</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&quot;repository&quot;: &#123;</div><div class="line">    &quot;type&quot;: &quot;git&quot;,</div><div class="line">    &quot;url&quot;: &quot;https://github.com/netsssss&quot;</div><div class="line">&#125;,</div></pre></td></tr></table></figure>
<p> 否则设置icon会提示有错误</p>
</li>
<li>当遇到在百度中难以查到的问题时，比如<code>vscode command &#39;xxx&#39; not found</code>时，应该是自己的操作有问题，尝试使用菜单栏的<code>帮助-&gt;切换开发人员工具</code>来查看错误原因</li>
<li>插件开发时可以直接require(‘vscode’)，不需要npm安装</li>
</ol>
</li>
</ol>

  </div>
  
    <div class="tags">
    <span><i class="fa fa-tags"></i> Tags</span>
      
        <ul class="post-tag-list"><li class="post-tag-list-item"><a class="post-tag-list-link" href="/tags/vscode/">vscode</a></li><li class="post-tag-list-item"><a class="post-tag-list-link" href="/tags/插件/">插件</a></li></ul>
      
    </div>
  

</article>

<!-- Comments -->

<!-- End Comments --></section>
    <footer id="footer" role="contentinfo">
    <div>&copy; 2019 <a href="/">NetsSsSs Blog</a>.
    Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Designed by <a href="http://rainylog.com" target="_blank">Rainy.</a>
	</div>
</footer><!-- end #footer -->

  </div>
  <script src="/lib/fancybox/dist/jquery.fancybox.min.js"></script>

  <script src="/js/helper.js"></script>
  <script src="/js/_third-party/gitment.js"></script>
</body>
</html>